(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{1172:function(e,t,n){"use strict";function $(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0!==r){if("value"in r)return r.value;r=r.get;return void 0!==r?r.call(n):void 0}e=Object.getPrototypeOf(e);if(null!==e)return $(e,t,n)}function ee(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ne(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return function(){var a=e.apply(this,arguments);return new Promise(function(o,s){return function t(e,n){try{var r=a[e](n),i=r.value}catch(e){return void s(e)}if(!r.done)return Promise.resolve(i).then(function(e){t("next",e)},function(e){t("throw",e)});o(i)}("next")})}}var o,s,a=(o=i(regeneratorRuntime.mark(function e(t,n){var a,l,f,c,r,E,A,P,R,x,i,o,s,u,I,v,d,C,h,W,p,y,_,b,g,L,k,w,m,J,q,z,F,O,N,j,D,S,M,B,T,U,G,H,K,Q,V,X,Y,Z;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(Z=function(e,t,n,r,i,o,s){if(o=Math.max(o,0),!((s=Math.min(s,i))<=o||r<=0)){var a=r*e,l=[],f={a:0,b:0,c:0,d:0,e:0,f:0,g:0,h:0,i:0,j:0,k:0,l:0,m:0,n:0,o:0,p:0};if(0<o)for(var c=o-1,u=r*Math.max(c-1,0),h=r*c,p=r*Math.min(1+c,i-1),y=r*Math.min(2+c,i-1),b=0;b<r;++b){var v=Math.max(b-1,0),d=Math.min(b+1,r-1),_=Math.min(b+2,r-1);f.a=t[u+v],f.b=t[u+b],f.c=t[u+d],f.d=t[u+_],f.e=t[h+v],f.f=t[h+b],f.g=t[h+d],f.h=t[h+_],f.i=t[p+v],f.j=t[p+b],f.k=t[p+d],f.l=t[p+_],f.m=t[y+v],f.n=t[y+b],f.o=t[y+d],f.p=t[y+_],J(f),l[b]=q.setTopR(l[b],C.j),b+1<r&&(l[b+1]=q.setTopL(255&l[b+1],C.k))}z=new I(e,n,a);for(var g=0,L=[],k=o;k<s;++k)for(var w=e*k*a,m=r*Math.max(k-1,0),O=r*k,N=r*Math.min(k+1,i-1),j=r*Math.min(k+2,i-1),g=0,D=0;D<r;++D,w+=e){var S=Math.max(D-1,0),M=Math.min(D+1,r-1),B=Math.min(D+2,r-1);if(f.a=t[m+S],f.b=t[m+D],f.c=t[m+M],f.d=t[m+B],f.e=t[O+S],f.f=t[O+D],f.g=t[O+M],f.h=t[O+B],f.i=t[N+S],f.j=t[N+D],f.k=t[N+M],f.l=t[N+B],f.m=t[j+S],f.n=t[j+D],f.o=t[j+M],f.p=t[j+B],J(f),B=q.setBottomR(l[D],C.f),g=q.setTopR(g,C.j),l[D]=g,g=q.setTopL(0,C.k),D+1<r&&(l[D+1]=q.setBottomL(l[D+1],C.g)),W(n,w,a,t[O+D],e),0!==B){L[0]=t[m+S],L[1]=t[m+D],L[2]=t[m+M],L[3]=t[O+S],L[4]=t[O+D],L[5]=t[O+M],L[6]=t[N+S],L[7]=t[N+D],L[8]=t[N+M];var T=void 0;switch(e){case 2:T=new E;break;case 3:T=new A;break;case 4:T=new P;break;case 5:T=new R;break;default:T=new x}F(T,0,L,0,w,0,B),F(T,1,L,0,w,0,B),F(T,2,L,0,w,0,B),F(T,3,L,0,w,0,B)}}}},F=function(e,t,n,r,i,o,s){var a=n[v[4+t]],l=n[v[8+t]],f=n[v[12+t]],c=n[v[16+t]],u=n[v[20+t]],h=n[v[24+t]],p=n[v[28+t]],y=n[v[32+t]],b=q.rotate(s,t);q.getBottomR(b)!==d.BLEND_NONE&&(n=L,s=k,b=!(!(q.getBottomR(b)>=d.BLEND_DOMINANT)&&(q.getTopR(b)!==d.BLEND_NONE&&!n(c,h)||q.getBottomL(b)!==d.BLEND_NONE&&!n(c,l)||n(h,p)&&n(p,y)&&n(y,u)&&n(u,l)&&!n(c,y))),n=s(c,u)<=s(c,p)?u:p,(y=z).move(t,i),b?(u=s(u,h),p=s(p,l),h=_.steepDirectionThreshold*u<=p&&c!==h&&f!==h,l=_.steepDirectionThreshold*p<=u&&c!==l&&a!==l,h?l?e.blendLineSteepAndShallow(n,y):e.blendLineShallow(n,y):l?e.blendLineSteep(n,y):e.blendLineDiagonal(n,y)):e.blendCorner(n,y))},J=function(e){var t,n,r;C.reset(),e.f===e.g&&e.j===e.k||e.f===e.j&&e.g===e.k||(t=(r=b)(e.i,e.f)+r(e.f,e.c)+r(e.n,e.k)+r(e.k,e.h)+4*r(e.j,e.g),n=r(e.e,e.j)+r(e.j,e.o)+r(e.b,e.g)+r(e.g,e.l)+4*r(e.f,e.k),r=_.dominantDirectionThreshold*t<n,t<n?(e.f!==e.g&&e.f!==e.j&&(C.f=r?d.BLEND_DOMINANT:d.BLEND_NORMAL),e.k!==e.g&&e.k!==e.j&&(C.k=r?d.BLEND_DOMINANT:d.BLEND_NORMAL)):n<t&&(e.j!==e.f&&e.j!==e.k&&(C.j=r?d.BLEND_DOMINANT:d.BLEND_NORMAL),e.g!==e.f&&e.g!==e.k&&(C.g=r?d.BLEND_DOMINANT:d.BLEND_NORMAL)))},w=function e(t,n,r,i){var o=0,s=0===t?(o=n,r):(o=i-1-(s=e(t-1,n,r,i)).J,s.I);return{I:o,J:s}},k=function(e,t){return y(e,t,_.luminanceWeight)},L=function(e,t){return y(e,t,_.luminanceWeight)<g},b=function(e,t){return y(e&=4294967295,t&=4294967295,_.luminanceWeight)},y=function(e,t,n){return e===t?0:p(e,t,n)},p=function(e,t,n){var r=(e&a)-(t&a)>>16,i=(e&f)-(t&f),t=.2126*r+.7152*((e&l)-(t&l)>>8)+.0722*i,i=.5/.9278*(i-t),r=.5/.7874*(r-t);return h(n*t)+h(i)+h(r)},W=function(e,t,n,r,i){for(var o=0;o<i;++o,t+=n)for(var s=0;s<i;++s)e[t+s]=r},h=function(e){return e*e},r=function(e,t,n,r){var i=n.get(),o=c(a,e,t,i,r),s=c(l,e,t,i,r),r=c(f,e,t,i,r);n.set(o|s|r|4278190080)},c=function(e,t,n,r,i){return e&((i&e)*t+(r&e)*(n-t))/n},a=16711680,l=65280,f=255,E=function(){function e(){re(this,e),this.scale=2}return ee(e,[{key:"scale",value:function(){return this.scale}},{key:"blendLineShallow",value:function(e,t){r(1,4,t.ref(this.scale-1,0),e),r(3,4,t.ref(this.scale-1,1),e)}},{key:"blendLineSteep",value:function(e,t){r(1,4,t.ref(0,this.scale-1),e),r(3,4,t.ref(1,this.scale-1),e)}},{key:"blendLineSteepAndShallow",value:function(e,t){r(1,4,t.ref(1,0),e),r(1,4,t.ref(0,1),e),r(5,6,t.ref(1,1),e)}},{key:"blendLineDiagonal",value:function(e,t){r(1,2,t.ref(1,1),e)}},{key:"blendCorner",value:function(e,t){r(21,100,t.ref(1,1),e)}}]),e}(),A=function(){function n(){re(this,n);var e=te(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.scale=3,e}return ne(n,E),ee(n,[{key:"blendLineShallow",value:function(e,t){$(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"blendLineShallow",this).call(this,e,t),r(1,4,t.ref(this.scale-2,2),e),t.ref(this.scale-1,2).set(e)}},{key:"blendLineSteep",value:function(e,t){$(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"blendLineSteep",this).call(this,e,t),r(1,4,t.ref(2,this.scale-2),e),t.ref(2,this.scale-1).set(e)}},{key:"blendLineSteepAndShallow",value:function(e,t){r(1,4,t.ref(2,0),e),r(1,4,t.ref(0,2),e),r(3,4,t.ref(2,1),e),r(3,4,t.ref(1,2),e),t.ref(2,2).set(e)}},{key:"blendLineDiagonal",value:function(e,t){r(1,8,t.ref(1,2),e),r(1,8,t.ref(2,1),e),r(7,8,t.ref(2,2),e)}},{key:"blendCorner",value:function(e,t){r(45,100,t.ref(2,2),e)}}]),n}(),P=function(){function n(){re(this,n);var e=te(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.scale=4,e}return ne(n,A),ee(n,[{key:"blendLineShallow",value:function(e,t){$(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"blendLineShallow",this).call(this,e,t),r(3,4,t.ref(this.scale-2,3),e),t.ref(this.scale-1,3).set(e)}},{key:"blendLineSteep",value:function(e,t){$(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"blendLineSteep",this).call(this,e,t),r(3,4,t.ref(3,this.scale-2),e),t.ref(3,this.scale-1).set(e)}},{key:"blendLineSteepAndShallow",value:function(e,t){r(3,4,t.ref(3,1),e),r(3,4,t.ref(1,3),e),r(1,4,t.ref(3,0),e),r(1,4,t.ref(0,3),e),r(1,3,t.ref(2,2),e),t.ref(3,3).set(e),t.ref(3,2).set(e),t.ref(2,3).set(e)}},{key:"blendLineDiagonal",value:function(e,t){r(1,2,t.ref(this.scale-1,this.scale/2),e),r(1,2,t.ref(this.scale-2,this.scale/2+1),e),t.ref(this.scale-1,this.scale-1).set(e)}},{key:"blendCorner",value:function(e,t){r(68,100,t.ref(3,3),e),r(9,100,t.ref(3,2),e),r(9,100,t.ref(2,3),e)}}]),n}(),R=function(){function n(){re(this,n);var e=te(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.scale=5,e}return ne(n,P),ee(n,[{key:"blendLineShallow",value:function(e,t){$(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"blendLineShallow",this).call(this,e,t),r(1,4,t.ref(this.scale-3,4),e),t.ref(this.scale-1,4).set(e),t.ref(this.scale-2,4).set(e)}},{key:"blendLineSteep",value:function(e,t){$(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"blendLineSteep",this).call(this,e,t),r(1,4,t.ref(4,this.scale-3),e),r(3,4,t.ref(3,this.scale-2),e),t.ref(4,this.scale-1).set(e),t.ref(4,this.scale-2).set(e)}},{key:"blendLineSteepAndShallow",value:function(e,t){r(1,4,t.ref(0,this.scale-1),e),r(1,4,t.ref(2,this.scale-2),e),r(3,4,t.ref(1,this.scale-1),e),r(1,4,t.ref(this.scale-1,0),e),r(1,4,t.ref(this.scale-2,2),e),r(3,4,t.ref(this.scale-1,1),e),r(2,3,t.ref(3,3),e),t.ref(2,this.scale-1).set(e),t.ref(3,this.scale-1).set(e),t.ref(4,this.scale-1).set(e),t.ref(this.scale-1,2).set(e),t.ref(this.scale-1,3).set(e)}},{key:"blendLineDiagonal",value:function(e,t){r(1,8,t.ref(this.scale-1,this.scale/2),e),r(1,8,t.ref(this.scale-2,this.scale/2+1),e),r(1,8,t.ref(this.scale-3,this.scale/2+2),e),r(7,8,t.ref(4,3),e),r(7,8,t.ref(3,4),e),t.ref(4,4).set(e)}},{key:"blendCorner",value:function(e,t){r(86,100,t.ref(4,4),e),r(23,100,t.ref(4,3),e),r(23,100,t.ref(3,4),e)}}]),n}(),x=function(){function n(){re(this,n);var e=te(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.scale=6,e}return ne(n,R),ee(n,[{key:"blendLineShallow",value:function(e,t){$(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"blendLineShallow",this).call(this,e,t),r(3,4,t.ref(this.scale-3,5),e),t.ref(this.scale-1,5).set(e),t.ref(this.scale-2,5).set(e)}},{key:"blendLineSteep",value:function(e,t){$(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"blendLineSteep",this).call(this,e,t),r(3,4,t.ref(5,this.scale-3),e),t.ref(5,this.scale-1).set(e),t.ref(5,this.scale-2).set(e)}},{key:"blendLineSteepAndShallow",value:function(e,t){r(1,4,t.ref(0,this.scale-1),e),r(1,4,t.ref(2,this.scale-2),e),r(3,4,t.ref(1,this.scale-1),e),r(3,4,t.ref(3,this.scale-2),e),r(1,4,t.ref(this.scale-1,0),e),r(1,4,t.ref(this.scale-2,2),e),r(3,4,t.ref(this.scale-1,1),e),r(3,4,t.ref(this.scale-2,3),e),t.ref(2,this.scale-1).set(e),t.ref(3,this.scale-1).set(e),t.ref(4,this.scale-1).set(e),t.ref(5,this.scale-1).set(e),t.ref(4,this.scale-2).set(e),t.ref(5,this.scale-2).set(e),t.ref(this.scale-1,2).set(e),t.ref(this.scale-1,3).set(e)}},{key:"blendLineDiagonal",value:function(e,t){r(1,2,t.ref(this.scale-1,this.scale/2),e),r(1,2,t.ref(this.scale-2,this.scale/2+1),e),r(1,2,t.ref(this.scale-3,this.scale/2+2),e),t.ref(this.scale-2,this.scale-1).set(e),t.ref(this.scale-1,this.scale-1).set(e),t.ref(this.scale-1,this.scale-2).set(e)}},{key:"blendCorner",value:function(e,t){r(97,100,t.ref(5,5),e),r(42,100,t.ref(4,5),e),r(42,100,t.ref(5,4),e),r(6,100,t.ref(5,3),e),r(6,100,t.ref(3,5),e)}}]),n}(),i=function(){function t(e){re(this,t),this.arr=e,this.ptr=0}return ee(t,[{key:"position",value:function(e){this.ptr=e}},{key:"get",value:function(){return this.arr[this.ptr]}},{key:"set",value:function(e){this.arr[this.ptr]=e}}]),t}(),o=function(){function e(){re(this,e),this.f=0,this.g=0,this.j=0,this.k=0}return ee(e,[{key:"reset",value:function(){this.f=0,this.g=0,this.j=0,this.k=0}}]),e}(),s=4,u=36,I=function(){function r(e,t,n){re(this,r),this.out=new i(t),this.n=s*u*(e-2),this.outWidth=n,this.outi=0,this.nr=0}return ee(r,[{key:"move",value:function(e,t){this.nr=this.n+e*u,this.outi=t}},{key:"ref",value:function(e,t){e=parseInt(e),t=parseInt(t);t=m[this.nr+6*e+t];return this.out.position(this.outi+t.J+t.I*this.outWidth),this.out}}]),r}(),v=function(){for(var e=[],t=[[0,1,2,3,4,5,6,7,8],[6,3,0,7,4,1,8,5,2],[8,7,6,5,4,3,2,1,0],[2,5,8,1,4,7,0,3,6]],n=0;n<4;n++)for(var r=0;r<9;r++)e[(r<<2)+n]=t[n][r];return e}(),d={BLEND_NONE:0,BLEND_NORMAL:1,BLEND_DOMINANT:2},C=new o,g=h((_={dominantDirectionThreshold:3.6,luminanceWeight:1,equalColorTolerance:30,steepDirectionThreshold:2.2}).equalColorTolerance),m=function(){for(var e=[],t=2;t<7;t++)for(var n=0;n<s;n++)for(var r=s*u*(t-2)+n*u,i=0;i<6;i++)for(var o=0;o<6;o++)e[r+6*i+o]=w(n,i,o,t);return e}(),q={getTopL:function(e){return 3&e},getTopR:function(e){return e>>2&3},getBottomR:function(e){return e>>4&3},getBottomL:function(e){return e>>6&3},setTopL:function(e,t){return 255&(e|t)},setTopR:function(e,t){return 255&(e|t<<2)},setBottomR:function(e,t){return 255&(e|t<<4)},setBottomL:function(e,t){return 255&(e|t<<6)},rotate:function(e,t){t<<=1;return 255&(e<<t|e>>8-t)}},z=void 0,O=Array.from(t.data),N=[],j=0,D=O.length;j<D;j+=4)S=O[j],M=O[j+1],B=O[j+2],T=O[j+3],N.push(T<<24|S<<16|M<<8|B);for((U=new Array(t.width*n*t.height*n)).fill(0),Z(n,N,U,t.width,t.height,0,t.height),G=[],H=0,K=U.length;H<K;++H)V=(Q=U[H])>>24&255,X=Q>>8&255,Y=255&Q,G.push(Q>>16&255),G.push(X),G.push(Y),G.push(V);return Z=new Uint8ClampedArray(G),Z=new ImageData(Z,t.width*n,t.height*n),e.abrupt("return",Z);case 46:case"end":return e.stop()}},e,this)})),function(e,t){return o.apply(this,arguments)}),l=(s=i(regeneratorRuntime.mark(function e(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r)return e.abrupt("return",r.exec(a,[t,n]).catch(function(e){return"Pool terminated"===e?l(t,n,r):a(t,n)}).timeout(6e4));e.next=4;break;case 4:return e.abrupt("return",a(t,n));case 5:case"end":return e.stop()}},e,void 0)})),function(e,t){return s.apply(this,arguments)});e.exports={xbrz:l}}}]);