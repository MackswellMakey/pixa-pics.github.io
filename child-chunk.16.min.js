(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1171:function(t,e,i){"use strict";function h(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){return function(){var h=t.apply(this,arguments);return new Promise(function(s,a){return function e(t,i){try{var n=h[t](i),r=n.value}catch(t){return void a(t)}if(!n.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});s(r)}("next")})}}var s,a,l=(s=r(regeneratorRuntime.mark(function t(e,i){var x,n,r,f,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return x=function(){function a(){u(this,a)}return h(a,null,[{key:"Copy",value:function(t,e,i){for(var n=0;n<i;n++)t[n]=this._Clip8(e[n])}},{key:"Copy2D",value:function(t,e,i,n,r,s){for(var a=Math.min(r,i),h=Math.min(s,n),u=0;u<h;u++)for(var l=0;l<a;l++)for(var f=0;f<4;f++)t[4*(u*i+l)+f]=e[4*(u*r+l)+f]}},{key:"CopyPadded",value:function(t,e,i,n){var r=Math.max(e,i),r=a.NextPow(r,n),n=new Uint8ClampedArray(r*r*4);return a.Copy2D(n,t,r,r,e,i),n}},{key:"CopyCropped",value:function(t,e,i,n,r,s){a.Copy2D(t,e,i,n,r,s)}},{key:"ToArray",value:function(t,e,i){for(var n=new Uint32Array(e*i),r=0;r<i;r++)for(var s=0;s<e;s++){var a=r*e+s,h=4*a;n[a]=this.ARGBINT(t[3+h],t[h],t[1+h],t[2+h])}return n}},{key:"ToImage",value:function(t,e,i,n){for(var r=0;r<n;r++)for(var s=0;s<i;s++){var a=r*i+s,h=4*a;t[h]=this.Red(e[a]),t[1+h]=this.Green(e[a]),t[2+h]=this.Blue(e[a]),t[3+h]=this.Alpha(e[a])}}},{key:"_CLR",value:function(t,e,i,n,r){if(0<=r&&r<i&&0<=n&&n<e){n=4*(r*e+n);return this.ARGBINT(t[3+n],t[n],t[1+n],t[2+n])}return 0}},{key:"CLR",value:function(t,e,i,n,r){var s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,s=parseInt(n+s),a=parseInt(r+a),s=Math.max(0,Math.min(e-1,s)),a=Math.max(0,Math.min(i-1,a));return this._CLR(t,e,i,s,a)}},{key:"Alpha",value:function(t){return parseInt(t>>>24)}},{key:"Red",value:function(t){return parseInt((t>>>0&16711680)>>16)}},{key:"Green",value:function(t){return parseInt((t>>>0&65280)>>8)}},{key:"Blue",value:function(t){return parseInt(t>>>0&255)}},{key:"Brightness",value:function(t){t&=16777215;return this._Clip8(3*this.Red(t)+3*this.Green(t)+2*this.Blue(t)>>3)}},{key:"Luminance",value:function(t){var e=parseFloat(this.Red(t)),i=parseFloat(this.Green(t)),t=parseFloat(this.Blue(t));return parseInt(.299*e+.587*i+.114*t)}},{key:"ChromaU",value:function(t){var e=parseFloat(this.Red(t)),i=parseFloat(this.Green(t)),t=parseFloat(this.Blue(t));return parseInt(.5*e-.418688*i-.081312*t+127.5)}},{key:"ChromaV",value:function(t){var e=parseFloat(this.Red(t)),i=parseFloat(this.Green(t)),t=parseFloat(this.Blue(t));return parseInt(-.168736*e-.331264*i+.5*t+127.5)}},{key:"IsLike",value:function(t,e){if(!this.Threshold)return t==e;var i=this.Luminance(t)-this.Luminance(e);return!(48<Math.abs(i))&&(i=this.ChromaV(t)-this.ChromaV(e),!(6<Math.abs(i))&&(i=this.ChromaU(t)-this.ChromaU(e),Math.abs(i)<=7))}},{key:"IsNotLike",value:function(t,e){return!this.IsLike(t,e)}},{key:"_Clip8",value:function(t){return Math.max(0,Math.min(255,t))}},{key:"_Write4RGBA",value:function(t,e,i,n,r,s,a,h,u,l){0<=n&&n<e&&0<=r&&r<i&&(n=n*this.ScaleX,r=r*this.ScaleY,t[n=4*((r+=3==s||4==s?1:0)*e*this.ScaleX+(n+=2==s||4==s?1:0))]=this._Clip8(h),t[1+n]=this._Clip8(u),t[2+n]=this._Clip8(l),t[3+n]=this._Clip8(a))}},{key:"Write4RGBA",value:function(t,e,i,n,r,s,a){var h=this.Red(a),u=this.Green(a),l=this.Blue(a),a=this.Alpha(a);this._Write4RGBA(t,e,i,n,r,s,a,h,u,l)}},{key:"_Write9RGBA",value:function(t,e,i,n,r,s,a,h,u,l){var f;0<=n&&n<e&&0<=r&&r<i&&(i=f=0,2!=s&&5!=s&&8!=s||(f=1),4!=s&&5!=s&&6!=s||(i=1),t[f=4*((r*this.ScaleY+(i=7==s||8==s||9==s?2:i))*e*this.ScaleX+(n*this.ScaleX+(f=3==s||6==s||9==s?2:f)))]=this._Clip8(h),t[1+f]=this._Clip8(u),t[2+f]=this._Clip8(l),t[3+f]=this._Clip8(a))}},{key:"Write9RGBA",value:function(t,e,i,n,r,s,a){var h=this.Red(a),u=this.Green(a),l=this.Blue(a),a=this.Alpha(a);this._Write9RGBA(t,e,i,n,r,s,a,h,u,l)}},{key:"_Write16RGBA",value:function(t,e,i,n,r,s,a,h,u,l){var f;0<=n&&n<e&&0<=r&&r<i&&(i=f=0,2!=s&&6!=s&&10!=s&&14!=s||(f=1),3!=s&&7!=s&&11!=s&&15!=s||(f=2),5!=s&&6!=s&&7!=s&&8!=s||(i=1),9!=s&&10!=s&&11!=s&&12!=s||(i=2),t[f=4*((r*this.ScaleY+(i=13==s||14==s||15==s||16==s?3:i))*e*this.ScaleX+(n*this.ScaleX+(f=4==s||8==s||12==s||16==s?3:f)))]=this._Clip8(h),t[1+f]=this._Clip8(u),t[2+f]=this._Clip8(l),t[3+f]=this._Clip8(a))}},{key:"Write16RGBA",value:function(t,e,i,n,r,s,a){var h=this.Red(a),u=this.Green(a),l=this.Blue(a),a=this.Alpha(a);this._Write16RGBA(t,e,i,n,r,s,a,h,u,l)}},{key:"WriteMagnify",value:function(t,e,i,n,r,s){for(var a=r*this.ScaleX,h=s*this.ScaleY,u=0;u<this.ScaleY;u++)for(var l=0;l<this.ScaleX;l++)for(var f=4*((h+u)*i*this.ScaleX+(a+l)),o=4*(s*i+r),p=0;p<4;p++)e[f+p]=t[o+p]}},{key:"RGBINT",value:function(t,e,i){return parseInt((this._Clip8(t)<<16)+(this._Clip8(e)<<8)+this._Clip8(i))}},{key:"ARGBINT",value:function(t,e,i,n){return(t>>>0<<24>>>0|(e<<16)+(i<<8)+n)>>>0}},{key:"Truncate",value:function(t){return this._Clip8(t)}},{key:"NextPow",value:function(t,e){for(var i=1,n=0;n<10&&!(t<=i);n++)i*=e;return i}},{key:"Threshold",get:function(){return!!this.hasOwnProperty("_Threshold")&&this._Threshold},set:function(t){this._Threshold=t}},{key:"ScaleX",get:function(){return this.hasOwnProperty("_ScaleX")?this._ScaleX:parseInt(0)},set:function(t){this._ScaleX=parseInt(t)}},{key:"ScaleY",get:function(){return this.hasOwnProperty("_ScaleY")?this._ScaleY:parseInt(0)},set:function(t){this._ScaleY=parseInt(t)}},{key:"SizeX",get:function(){return this.hasOwnProperty("_SizeX")?this._SizeX:parseInt(0)},set:function(t){this._SizeX=parseInt(t)}},{key:"SizeY",get:function(){return this.hasOwnProperty("_SizeY")?this._SizeY:parseInt(0)},set:function(t){this._SizeY=parseInt(t)}},{key:"ScaledImage",get:function(){return this.hasOwnProperty("_ScaledImage")?this._ScaledImage:[]},set:function(t){this._ScaledImage=t}}]),a}(),h(function t(){u(this,t)},null,[{key:"AdjustBrightness",value:function(t,e){return x.Truncate(t+e)}}]),n=function(){function t(){u(this,t)}return h(t,null,[{key:"Interpolate3P",value:function(t,e,i){var n=parseInt(parseInt(x.Red(t)+x.Red(e)+x.Red(i))/3),r=parseInt(parseInt(x.Green(t)+x.Green(e)+x.Green(i))/3),s=parseInt(parseInt(x.Blue(t)+x.Blue(e)+x.Blue(i))/3),i=parseInt(parseInt(x.Alpha(t)+x.Alpha(e)+x.Alpha(i))/3);return x.ARGBINT(i,n,r,s)}},{key:"Interpolate2P",value:function(t,e){var i=parseInt(parseInt(x.Red(t)+x.Red(e))>>1),n=parseInt(parseInt(x.Green(t)+x.Green(e))>>1),r=parseInt(parseInt(x.Blue(t)+x.Blue(e))>>1),e=parseInt(parseInt(x.Alpha(t)+x.Alpha(e))>>1);return x.ARGBINT(e,i,n,r)}},{key:"Interpolate2P1Q",value:function(t,e,i){var n=parseInt(parseInt(x.Red(t)*(1-i)+x.Red(e)*i)),r=parseInt(parseInt(x.Green(t)*(1-i)+x.Green(e)*i)),s=parseInt(parseInt(x.Blue(t)*(1-i)+x.Blue(e)*i)),i=parseInt(parseInt(x.Alpha(t)*(1-i)+x.Alpha(e)*i));return x.ARGBINT(i,n,r,s)}},{key:"Interpolate2P2Q",value:function(t,e,i,n){var r=i+n,s=parseInt((x.Red(t)*i+x.Red(e)*n)/r),a=parseInt((x.Green(t)*i+x.Green(e)*n)/r),h=parseInt((x.Blue(t)*i+x.Blue(e)*n)/r),r=parseInt((x.Alpha(t)*i+x.Alpha(e)*n)/r);return x.ARGBINT(r,s,a,h)}},{key:"Interpolate3P3Q",value:function(t,e,i,n,r,s){var a=parseInt(n+r+s),h=parseInt((x.Red(t)*n+x.Red(e)*r+x.Red(i)*s)/a),u=parseInt((x.Green(t)*n+x.Green(e)*r+x.Green(i)*s)/a),l=parseInt((x.Blue(t)*n+x.Blue(e)*r+x.Blue(i)*s)/a),a=parseInt((x.Alpha(t)*n+x.Alpha(e)*r+x.Alpha(i)*s)/a);return x.ARGBINT(a,h,u,l)}},{key:"Interpolate4P",value:function(t,e,i,n){var r=parseInt(x.Red(t)+x.Red(e)+x.Red(i)+x.Red(n)>>2),s=parseInt(x.Green(t)+x.Green(e)+x.Green(i)+x.Green(n)>>2),a=parseInt(x.Blue(t)+x.Blue(e)+x.Blue(i)+x.Blue(n)>>2),n=parseInt(x.Alpha(t)+x.Alpha(e)+x.Alpha(i)+x.Alpha(n)>>2);return x.ARGBINT(n,r,s,a)}},{key:"Interpolate4P4Q",value:function(t,e,i,n,r,s,a,h){var u=parseInt(r+s+a+h),l=parseInt((x.Red(t)*r+x.Red(e)*s+x.Red(i)*a+x.Red(n)*h)/u),f=parseInt((x.Green(t)*r+x.Green(e)*s+x.Green(i)*a+x.Green(n)*h)/u),o=parseInt((x.Blue(t)*r+x.Blue(e)*s+x.Blue(i)*a+x.Blue(n)*h)/u),u=parseInt((x.Alpha(t)*r+x.Alpha(e)*s+x.Alpha(i)*a+x.Alpha(n)*h)/u);return x.ARGBINT(u,l,f,o)}},{key:"Mixpal",value:function(t,e){return this.Interpolate2P2Q(t,e,3,1)}},{key:"Fix",value:function(t,e,i){return Math.max(Math.min(t,i),e)}},{key:"Unmix",value:function(t,e){var i=x.Red(t),n=x.Green(t),r=x.Blue(t),s=x.Alpha(t),a=x.Red(e),h=x.Green(e),t=x.Blue(e),e=x.Alpha(e),a=this.Fix(i+(i-a),0,255)+a>>1,h=this.Fix(n+(n-h),0,255)+h>>1,t=this.Fix(r+(r-t),0,255)+t>>1,e=this.Fix(s+(s-e),0,255)+e>>1;return x.ARGBINT(e,a,h,t)}}]),t}(),r=function(){function t(){u(this,t)}return h(t,null,[{key:"FlipUD",value:function(t,e,i){if(0<t.length)for(var n=0;n<i/2;n++)for(var r=0;r<e;r++)for(var s=4*(n*e+r),a=4*((i-n-1)*e+r),h=0;h<4;h++){var u=t[s+h];t[s+h]=t[a+h],t[a+h]=u}}},{key:"FlipLR",value:function(t,e,i){if(0<t.length)for(var n=0;n<i;n++)for(var r=0;r<e/2;r++)for(var s=4*(n*e+r),a=4*(n*e+(e-r-1)),h=0;h<4;h++){var u=t[s+h];t[s+h]=t[a+h],t[a+h]=u}}}]),t}(),h(function t(){u(this,t)},null,[{key:"Transpose",value:function(t,e,i,n){for(var r=0;r<n;r++)for(var s=0;s<i;s++)for(var a=0;a<4;a++)t[4*(s*n+r)+a]=e[4*(r*i+s)+a]}},{key:"Rotate90",value:function(t,e,i,n){this.Transpose(t,e,i,n),r.FlipUD(t,n,i)}},{key:"Rotate180",value:function(t,e,i,n){x.Copy(t,e,i*n*4),r.FlipUD(t,i,n),r.FlipLR(t,i,n)}},{key:"Rotate270",value:function(t,e,i,n){r.FlipUD(e,i,n),this.Transpose(t,e,i,n)}}]),h(function t(){u(this,t)},null,[{key:"Conc2D",value:function(t,e,i,n){var r=0,s=x.IsLike(t,i),a=s?1:0,s=x.IsLike(e,i)&&!s?1:0,t=x.IsLike(t,n);return(a+=t?1:0)<=1&&r++,(s+=x.IsLike(e,n)&&!t?1:0)<=1&&r--,r}}]),h(function t(){u(this,t)},null,[{key:"Clamp",value:function(t,e,i){return parseInt(Math.min(i,Math.max(t,e)))}},{key:"FullClamp",value:function(t){return x._Clip8(t)}},{key:"_ReverseAntiAlias",value:function(t,e,i,n,r,s,a,h,u){var l=n,f=l-e,o=s-l,n=(7*(f+o)-3*(e-t+(a-s)))/16,e=l<128?2*l:2*(255-l),e=Math.min(e,2*Math.abs(f));e=Math.min(e,2*Math.abs(o));t=l+(n=this.Clamp(n,-e,e))/2,n=(7*((f=(l=t-n)-(a=i))+(o=(s=r)-l))-3*((i=a-h)+(r=u-s)))/16;e=Math.min(l<128?2*l:2*(255-l),2*Math.abs(f)),e=Math.min(e,2*Math.abs(o));h=l+(n=this.Clamp(n,-e,e))/2,u=h-n;n=(7*((f=(l=t)-a)+(o=s-l))-3*(i+r))/16,e=Math.min(l<128?2*l:2*(255-l),2*Math.abs(f)),e=Math.min(e,2*Math.abs(o));e=l+(n=this.Clamp(n,-e,e))/2,n=e-n;return{rd:this.FullClamp(u),gn:this.FullClamp(h),bl:this.FullClamp(n),alpha:this.FullClamp(e)}}}]),f=function(){function t(){u(this,t)}return h(t,null,[{key:"Buffer",value:function(t,e){for(var buffer=new Uint8ClampedArray(4*t),i=0;i<t;i++){var n=4*i;buffer[n]=parseInt(e),buffer[1+n]=parseInt(e),buffer[2+n]=parseInt(e),buffer[3+n]=255}return buffer}},{key:"New",value:function(t,e){return this.Buffer(t*e,0)}},{key:"Init",value:function(t,e,i,n,r){x.ScaleX=i,x.ScaleY=n,x.SizeX=t*i,x.SizeY=e*n,x.Threshold=r,x.ScaledImage=this.New(x.SizeX,x.SizeY)}}]),t}(),s=function(){function t(){u(this,t)}return h(t,[{key:"Apply",value:function(t,e,i,n,r){n=Math.max(1,n),f.Init(e,i,n,n,r);for(var s=0;s<x.SizeY;s++)for(var a=s*x.SizeX,h=s/x.SizeY,u=0;u<x.SizeX;u++){var l=this.ScaleImage(t,u/x.SizeX,h,e,i,x.SizeX,x.SizeY);x.ScaledImage[4*(a+u)]=x.Red(l),x.ScaledImage[4*(a+u)+1]=x.Green(l),x.ScaledImage[4*(a+u)+2]=x.Blue(l),x.ScaledImage[4*(a+u)+3]=x.Alpha(l)}return new ImageData(new Uint8ClampedArray(x.ScaledImage),e*n,i*n)}},{key:"is_different",value:function(t,e){return x.IsNotLike(t,e)}},{key:"mix",value:function(t,e,i){return n.Interpolate2P1Q(t,e,i)}},{key:"fract",value:function(t){return t-Math.floor(t)}},{key:"P",value:function(t,e,i){return(t&e)==i}},{key:"Mul",value:function(t,e){var i=x.Red(t)*e,n=x.Green(t)*e,r=x.Blue(t)*e,e=x.Alpha(t)*e;return x.ARGBINT(e,i,n,r)}},{key:"Add",value:function(t,e,i){var n=(x.Red(t)+x.Red(e))*i,r=(x.Green(t)+x.Green(e))*i,s=(x.Blue(t)+x.Blue(e))*i,i=(x.Alpha(t)+x.Alpha(e))*i;return x.ARGBINT(i,n,r,s)}},{key:"length",value:function(t,e){return Math.sqrt(t*t+e*e)}},{key:"ScaleImage",value:function(t,e,i,n,r,s,a){var h=1/n,u=1/r,l=this.fract(e*n),f=this.fract(i*r);.5<l&&(h=-h,l=1-l),.5<f&&(u=-u,f=1-f);var o,p,c,h=parseInt(h*n),u=parseInt(u*r),v=parseInt(e*n),I=parseInt(i*r),m=x.CLR(t,n,r,v,I,-h,-u),d=x.CLR(t,n,r,v,I,0,-u),y=x.CLR(t,n,r,v,I,h,-u),R=x.CLR(t,n,r,v,I,-h,0),k=x.CLR(t,n,r,v,I,0,0),P=x.CLR(t,n,r,v,I,h,0),_=x.CLR(t,n,r,v,I,-h,u),e=x.CLR(t,n,r,v,I,0,u),i=x.CLR(t,n,r,v,I,h,u),C=0;if(this.is_different(m,k)&&(C|=1),this.is_different(d,k)&&(C|=2),this.is_different(y,k)&&(C|=4),this.is_different(R,k)&&(C|=8),this.is_different(P,k)&&(C|=16),this.is_different(_,k)&&(C|=32),this.is_different(e,k)&&(C|=64),this.is_different(i,k)&&(C|=128),(this.P(C,191,55)||this.P(C,219,19))&&this.is_different(d,P))return this.mix(k,R,.5-l);if((this.P(C,219,73)||this.P(C,239,109))&&this.is_different(e,R))return this.mix(k,d,.5-f);if((this.P(C,11,11)||this.P(C,254,74)||this.P(C,254,26))&&this.is_different(R,d))return k;if((this.P(C,111,42)||this.P(C,91,10)||this.P(C,191,58)||this.P(C,223,90)||this.P(C,159,138)||this.P(C,207,138)||this.P(C,239,78)||this.P(C,63,14)||this.P(C,251,90)||this.P(C,187,138)||this.P(C,127,90)||this.P(C,175,138)||this.P(C,235,138))&&this.is_different(R,d))return this.mix(k,this.mix(k,m,.5-l),.5-f);if(this.P(C,11,8))return this.mix(this.mix(this.Mul(m,.375)+this.Mul(d,.25)+this.Mul(k,.375),this.Mul(k,.5)+this.Mul(d,.5),2*l),k,2*f);if(this.P(C,11,2))return this.mix(this.mix(this.Mul(m,.375)+this.Mul(R,.25)+this.Mul(k,.375),this.Mul(k,.5)+this.Mul(R,.5),2*f),k,2*l);if(this.P(C,47,47))return(p=this.length(l-.5,f-.5))<.5-(c=this.length(1/(s/n),1/(a/r)))/2?k:(o=this.is_different(m,d)||this.is_different(m,R)?this.mix(d,R,f-l+.5):this.mix(this.mix(this.Mul(d,.375)+this.Mul(m,.25)+this.Mul(R,.375),R,2*f),d,2*l),.5+c/2<p?o:this.mix(k,o,(p-.5+c/2)/c));if(this.P(C,191,55)||this.P(C,219,19))return p=l-2*f,(c=this.length(1/(s/n),1/(a/r))*Math.sqrt(5))/2<p?d:(o=this.mix(R,k,l+.5),p<-c/2?o:this.mix(o,d,(p+c/2)/c));if(this.P(C,219,73)||this.P(C,239,109))return p=f-2*l,(c=this.length(1/(s/n),1/(a/r))*Math.sqrt(5))/2<f-2*l?R:(o=this.mix(d,k,l+.5),p<-c/2?o:this.mix(o,R,(p+c/2)/c));if(this.P(C,191,143)||this.P(C,126,14))return p=l+2*f,1+(c=this.length(1/(s/n),1/(a/r))*Math.sqrt(5))/2<p?k:(o=this.is_different(m,d)||this.is_different(m,R)?this.mix(d,R,f-l+.5):this.mix(this.mix(this.Mul(d,.375)+this.Mul(m,.25)+this.Mul(R,.375),R,2*f),d,2*l),p<1-c/2?o:this.mix(o,k,(p+c/2-1)/c));if(this.P(C,126,42)||this.P(C,239,171))return p=f+2*l,1+(c=this.length(1/(s/n),1/(a/r))*Math.sqrt(5))/2<f+2*l?k:(o=this.is_different(m,d)||this.is_different(m,R)?this.mix(d,R,f-l+.5):this.mix(this.mix(this.Mul(d,.375)+this.Mul(m,.25)+this.Mul(R,.375),R,2*f),d,2*l),p<1-c/2?o:this.mix(o,k,(p+c/2-1)/c));if(this.P(C,27,3)||this.P(C,79,67)||this.P(C,139,131)||this.P(C,107,67))return this.mix(k,R,.5-l);if(this.P(C,75,9)||this.P(C,139,137)||this.P(C,31,25)||this.P(C,59,25))return this.mix(k,d,.5-f);if(this.P(C,251,106)||this.P(C,111,110)||this.P(C,63,62)||this.P(C,251,250)||this.P(C,223,222)||this.P(C,223,30))return this.mix(k,m,(1-l-f)/2);if(this.P(C,79,75)||this.P(C,159,27)||this.P(C,47,11)||this.P(C,190,10)||this.P(C,238,10)||this.P(C,126,10)||this.P(C,235,75)||this.P(C,59,27))return p=l+f,.5+(c=this.length(1/(s/n),1/(a/r)))/2<p?k:(o=this.is_different(m,d)||this.is_different(m,R)?this.mix(d,R,f-l+.5):this.mix(this.mix(this.Mul(d,.375)+this.Mul(m,.25)+this.Mul(R,.375),R,2*f),d,2*l),p<.5-c/2?o:this.mix(o,k,(p+c/2-.5)/c));if(this.P(C,11,1))return this.mix(this.mix(k,R,.5-l),this.mix(d,this.Add(d,R,.5),.5-l),.5-f);if(this.P(C,11,0))return this.mix(this.mix(k,R,.5-l),this.mix(d,m,.5-l),.5-f);if(p=l+f,.5+(c=this.length(1/(s/n),1/(a/r)))/2<p)return k;i=x.CLR(t,n,r,v,I,2*-h,-u),P=x.CLR(t,n,r,v,I,-h,2*-u),e=x.CLR(t,n,r,v,I,0,2*-u),m=x.CLR(t,n,r,v,I,h,2*-u),s=x.CLR(t,n,r,v,I,2*-h,-u),a=x.CLR(t,n,r,v,I,2*-h,0),u=x.CLR(t,n,r,v,I,2*-h,u);this.is_different(i,k)&&(C|=256),this.is_different(P,k)&&(C|=512),this.is_different(e,k)&&(C|=1024),this.is_different(m,k)&&(C|=2048),this.is_different(s,k)&&(C|=4096),this.is_different(a,k)&&(C|=8192),this.is_different(u,k)&&(C|=16384);for(var A=-7;0!=C;)A+=1&C,C>>=1;return A<=0?(o=this.mix(d,R,f-l+.5),p<.5-c/2?o:this.mix(o,k,(p+c/2-.5)/c)):k}}]),t}(),s=new s,t.abrupt("return",s.Apply(e.data,e.width,e.height,i,1));case 11:case"end":return t.stop()}},t,this)})),function(t,e){return s.apply(this,arguments)}),f=(a=r(regeneratorRuntime.mark(function t(e,i){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n)return t.abrupt("return",n.exec(l,[e,i]).catch(function(t){return"Pool terminated"===t?f(e,i,n):l(e,i)}).timeout(36e4));t.next=4;break;case 4:return t.abrupt("return",l(e,i));case 5:case"end":return t.stop()}},t,void 0)})),function(t,e){return a.apply(this,arguments)});t.exports={omniscale:f}}}]);