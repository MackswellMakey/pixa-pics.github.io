(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1167:function(t,i,e){"use strict";function h(t){return function(){var s=t.apply(this,arguments);return new Promise(function(o,a){return function i(t,e){try{var r=s[t](e),n=r.value}catch(t){return void a(t)}if(!r.done)return Promise.resolve(n).then(function(t){i("next",t)},function(t){i("throw",t)});o(n)}("next")})}}var n,u=(n=h(regeneratorRuntime.mark(function t(i,e,r,n){var o,a,s,h,u,c,l,f,d,p,g,m,x,v,b,w,P,y,C,S,M,k,I,D,A,O,E,F;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(F=function(i,e){try{if("undefined"==typeof OffscreenCanvas)throw new Error("Impossible to create OffscreenCanvas in this web environment.");var r=new OffscreenCanvas(i.width,i.height);return(n=r.getContext("bitmaprenderer")).imageSmoothingEnabled=!1,createImageBitmap(i,{premultiplyAlpha:"premultiply",colorSpaceConversion:"default",resizeQuality:"high"}).then(function(t){return n.transferFromImageBitmap(t),r.convertToBlob(e?{type:"image/jpeg",quality:.75}:{type:"image/png"}).then(function(t){return r=t,new Promise(function(t,i){var e=new FileReader;e.onload=function(){return t(e.result)},e.readAsDataURL(r)}).then(function(t){return t});var r})})}catch(t){var n;return(r=document.createElement("canvas")).width=i.width,r.height=i.height,(n=r.getContext("2d")).imageSmoothingEnabled=!1,n.globalCompositeOperation="source-over",n.putImageData(i,0,0),e?r.toDataURL("image/jpeg",.75):r.toDataURL("image/png")}},E=function(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return 1<=i&&i<99999999&&((i=new o({colors:i,method:2,minHueCols:0,dithKern:null,dithSerp:n=!1})).sample(t),i.palette(!0),i=i.reduce(t),t.data.set(i)),t},S=function(e,r){var t,i=[];for(t in e)i.push(t);return v.call(i,function(t,i){return r?e[i]-e[t]:e[t]-e[i]})},C=function(t,i,e){for(var r=t,n=(r.y+r.h-1)*i+(r.x+r.w-1),o=0,a=i-r.w+1,s=r.y*i+r.x;e.call(this,s),(s+=++o%r.w==0?a:1)<=n;);},y=function(t,i,e,r){for(var n=t%e,o=i%r,a=t-n,s=i-o,h=[],u=0;u<i;u+=r)for(var c=0;c<t;c+=e)h.push({x:c,y:u,w:c==a?n:e,h:u==s?o:r});return h},P=function(t,i){var e,buf8,buf32,r;switch(x(t)){case"ImageData":r=(e=e||t).height,buf8="CanvasPixelArray"==x(e.data)?new Uint8Array(e.data):e.data;case"Array":case"CanvasPixelArray":buf8=buf8||new Uint8Array(t);case"Uint8Array":case"Uint8ClampedArray":buf8=buf8||t,buf32=new Uint32Array(buf8.buffer);case"Uint32Array":buf32=buf32||t,buf8=buf8||new Uint8Array(buf32.buffer),r=buf32.length/(i=i||buf32.length)}return{can:void 0,ctx:void 0,imgd:e,buf8:buf8,buf32:buf32,width:i,height:r}},w=function(){var e="abcdefghijklmnopqrstuvwxyz";return"xyzvwtursopqmnklhijfgdeabc"==e.split("").sort(function(t,i){return~~(e.indexOf(i)/2.3)-~~(e.indexOf(t)/2.3)}).join("")},b=function(e){var t=x(this[0]);if("Number"!=t&&"String"!=t)return r=this.map(function(t){return t}),this.sort(function(t,i){return e(t,i)||r.indexOf(t)-r.indexOf(i)});for(var i,r={},n=this.length,o=0;o<n;o++)r[i=this[o]]||0===r[i]||(r[i]=o);return this.sort(function(t,i){return e(t,i)||r[t]-r[i]})},x=function(t){return Object.prototype.toString.call(t).slice(8,-1)},m=function(t,i){var e=1/i,r=e/2;if(1-r<=t||t<=r)return 0;for(var n=1;n<i;n++){var o=n*e;if(o-r<=t&&t<=o+r)return n}},g=function(t,i,e){var r,n,o,a,s;if(t/=255,i/=255,e/=255,(r=Math.max(t,i,e))==(n=Math.min(t,i,e)))o=a=0;else{switch(s=r-n,a=.5<(r+n)/2?s/(2-r-n):s/(r+n),r){case t:o=(i-e)/s+(i<e?6:0);break;case i:o=(e-t)/s+2;break;case e:o=(t-i)/s+4}o/=6}return{h:o,s:a,l:c(t,i,e)}},p=function(t,i){var e=Math.abs(i[0]-t[0]),r=Math.abs(i[1]-t[1]),t=Math.abs(i[2]-t[2]);return(s*e+h*r+u*t)/d},f=function(t,i){var e=i[0]-t[0],r=i[1]-t[1],t=i[2]-t[2];return Math.sqrt(s*e*e+h*r*r+u*t*t)/l},c=function(t,i,e){return Math.sqrt(s*t*t+h*i*i+u*e*e)},a=function(t,i){this.numGroups=t,this.minCols=i,this.stats={};for(var e=-1;e<t;e++)this.stats[e]={num:0,cols:[]};this.groupsFull=0},e=e||0,(o=function(t){var r;this.method=(t=t||{}).method||2,this.colors=t.colors||256,this.initColors=t.initColors||4096,this.initDist=t.initDist||.01,this.distIncr=t.distIncr||.005,this.hueGroups=t.hueGroups||10,this.satGroups=t.satGroups||10,this.lumGroups=t.lumGroups||10,this.minHueCols=t.minHueCols||0,this.hueStats=this.minHueCols?new a(this.hueGroups,this.minHueCols):null,this.boxSize=t.boxSize||[64,64],this.boxPxls=t.boxPxls||2,this.palLocked=!1,this.dithKern=t.dithKern||null,this.dithSerp=t.dithSerp||!1,this.dithDelta=t.dithDelta||0,this.histogram={},this.idxrgb=t.palette?t.palette.slice(0):[],this.idxi32=[],this.i32idx={},this.i32rgb={},this.useCache=!1!==t.useCache,this.cacheFreq=t.cacheFreq||10,this.reIndex=t.reIndex||0==this.idxrgb.length,this.colorDist="manhattan"==t.colorDist?p:f,0<this.idxrgb.length&&(r=this).idxrgb.forEach(function(t,i){var e=(255<<24|t[2]<<16|t[1]<<8|t[0])>>>0;r.idxi32[i]=e,r.i32idx[e]=i,r.i32rgb[e]=t})}).prototype.sample=function(t,i){if(this.palLocked)throw"Cannot sample additional images, palette already assembled.";var e=P(t,i);switch(this.method){case 1:this.colorStats1D(e.buf32);break;case 2:this.colorStats2D(e.buf32,e.width)}},o.prototype.reduce=function(t,i,e,r){if(this.palLocked||this.buildPal(),r=void 0!==r?r:this.dithSerp,i=i||1,e=e||this.dithKern)var n=this.dither(t,e,r);else for(var buf32=P(t).buf32,o=buf32.length,n=new Uint32Array(o),a=0;a<o;a++){var s=buf32[a];n[a]=this.nearestColor(s)}if(1==i)return new Uint8Array(n.buffer);if(2==i){for(var h=[],o=n.length,a=0;a<o;a++)h[a]=this.i32idx[s=n[a]];return h}},o.prototype.dither=function(t,i,e){var r={FloydSteinberg:[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]],FalseFloydSteinberg:[[3/8,1,0],[3/8,0,1],[.25,1,1]],Stucki:[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]],Atkinson:[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]],Jarvis:[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]],Burkes:[[.25,1,0],[.125,2,0],[2/32,-2,1],[.125,-1,1],[.25,0,1],[.125,1,1],[2/32,2,1]],Sierra:[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[.125,-1,1],[5/32,0,1],[.125,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]],TwoSierra:[[.25,1,0],[3/16,2,0],[1/16,-2,1],[.125,-1,1],[3/16,0,1],[.125,1,1],[1/16,2,1]],SierraLite:[[.5,1,0],[.25,-1,1],[.25,0,1]]};if(!i||!r[i])throw"Unknown dithering kernel: "+i;for(var n=r[i],t=P(t),buf32=t.buf32,o=t.width,a=t.height,s=e?-1:1,h=0;h<a;h++){e&&(s*=-1);for(var u=h*o,c=1==s?0:o-1,l=1==s?o:0;c!==l;c+=s){var f=u+c,d=buf32[f],p=255&d,g=(65280&d)>>8,m=(16711680&d)>>16,x=this.nearestColor(d),v=255&x,d=(65280&x)>>8,x=(16711680&x)>>16;if(buf32[f]=255<<24|x<<16|d<<8|v,!(this.dithDelta&&this.colorDist([p,g,m],[v,d,x])<this.dithDelta))for(var b=p-v,w=g-d,y=m-x,C=1==s?0:n.length-1,S=1==s?n.length:0;C!==S;C+=s){var M,k,I,D=n[C][1]*s,A=n[C][2];0<=D+c&&D+c<o&&0<=A+h&&A+h<a&&(I=n[C][0],k=(65280&buf32[M=f+(A*o+D)])>>8,A=(16711680&buf32[M])>>16,D=Math.max(0,Math.min(255,(255&buf32[M])+b*I)),k=Math.max(0,Math.min(255,k+w*I)),I=Math.max(0,Math.min(255,A+y*I)),buf32[M]=255<<24|I<<16|k<<8|D)}}}return buf32},o.prototype.buildPal=function(t){if(!(this.palLocked||0<this.idxrgb.length&&this.idxrgb.length<=this.colors)){var i=this.histogram,e=S(i,!0);if(0==e.length)throw"Nothing has been sampled, palette cannot be built.";switch(this.method){case 1:for(var r=this.initColors,n=i[e[r-1]],o=e.slice(0,r),a=r,s=e.length;a<s&&i[e[a]]==n;)o.push(e[a++]);this.hueStats&&this.hueStats.inject(o);break;case 2:o=e}o=o.map(function(t){return+t}),this.reducePal(o),!t&&this.reIndex&&this.sortPal(),this.useCache&&this.cacheHistogram(o),this.palLocked=!0}},o.prototype.palette=function(t,i){return this.buildPal(i),t?this.idxrgb:new Uint8Array(new Uint32Array(this.idxi32).buffer)},o.prototype.prunePal=function(t){for(var i,e=0;e<this.idxrgb.length;e++)t[e]||(i=this.idxi32[e],this.idxrgb[e]=null,this.idxi32[e]=null,delete this.i32idx[i]);if(this.reIndex){for(var r=[],n=[],o={},e=0,a=0;e<this.idxrgb.length;e++)this.idxrgb[e]&&(i=this.idxi32[e],r[a]=this.idxrgb[e],n[o[i]=a]=i,a++);this.idxrgb=r,this.idxi32=n,this.i32idx=o}},o.prototype.reducePal=function(t){if(this.colors<this.idxrgb.length){for(var i,e=t.length,r={},n=0,o=!1,a=0;a<e;a++)n!=this.colors||o||(this.prunePal(r),o=!0),i=this.nearestIndex(t[a]),n<this.colors&&!r[i]&&(r[i]=!0,n++);o||this.prunePal(r)}else{var s=t.map(function(t){return[255&t,(65280&t)>>8,(16711680&t)>>16]}),h=e=s.length,u=this.initDist;if(this.colors<h){for(;this.colors<h;){for(var c=[],a=0;a<e;a++){var l=s[a];if(l)for(var f=a+1;f<e;f++){var d,p=s[f],g=t[f];p&&(d=this.colorDist(l,p))<u&&(c.push([f,p,g,d]),delete s[f],h--)}}u+=3*this.colors<h?this.initDist:this.distIncr}if(h<this.colors){v.call(c,function(t,i){return i[3]-t[3]});for(var m=0;h<this.colors;)s[c[m][0]]=c[m][1],h++,m++}}for(e=s.length,a=0;a<e;a++)s[a]&&(this.idxrgb.push(s[a]),this.idxi32.push(t[a]),this.i32idx[t[a]]=this.idxi32.length-1,this.i32rgb[t[a]]=s[a])}},o.prototype.colorStats1D=function(buf32){for(var t,i=this.histogram,e=buf32.length,r=0;r<e;r++)(4278190080&(t=buf32[r]))>>24!=0&&(this.hueStats&&this.hueStats.check(t),t in i?i[t]++:i[t]=1)},o.prototype.colorStats2D=function(buf32,n){var t=this.boxSize[0],i=this.boxSize[1],o=t*i,i=y(n,buf32.length/n,t,i),a=this.histogram,s=this;i.forEach(function(t){var i,e=Math.max(Math.round(t.w*t.h/o)*s.boxPxls,2),r={};C(t,n,function(t){(4278190080&(i=buf32[t]))>>24!=0&&(s.hueStats&&s.hueStats.check(i),i in a?a[i]++:i in r?++r[i]>=e&&(a[i]=r[i]):r[i]=1)})}),this.hueStats&&this.hueStats.inject(a)},o.prototype.sortPal=function(){var n=this;this.idxi32.sort(function(t,i){var e=n.idxrgb[n.i32idx[t]],r=n.idxrgb[n.i32idx[i]],t=g(e[0],e[1],e[2]),i=g(r[0],r[1],r[2]),e=e[0]==e[1]&&e[1]==e[2]?-1:m(t.h,n.hueGroups),e=(r[0]==r[1]&&r[1]==r[2]?-1:m(i.h,n.hueGroups))-e;if(e)return-e;e=+i.l.toFixed(2)-+t.l.toFixed(2);if(e)return-e;t=+i.s.toFixed(2)-+t.s.toFixed(2);return t?-t:void 0}),this.idxi32.forEach(function(t,i){n.idxrgb[i]=n.i32rgb[t],n.i32idx[t]=i})},o.prototype.nearestColor=function(t){t=this.nearestIndex(t);return null===t?0:this.idxi32[t]},o.prototype.nearestIndex=function(t){if((4278190080&t)>>24==0)return null;if(this.useCache&&""+t in this.i32idx)return this.i32idx[t];for(var i,e,r=1e3,n=[255&t,(65280&t)>>8,(16711680&t)>>16],o=this.idxrgb.length,a=0;a<o;a++)this.idxrgb[a]&&(e=this.colorDist(n,this.idxrgb[a]))<r&&(r=e,i=a);return i},o.prototype.cacheHistogram=function(t){for(var i=0,e=t[i];i<t.length&&this.cacheFreq<=this.histogram[e];e=t[i++])this.i32idx[e]=this.nearestIndex(e)},a.prototype.check=function(t){this.groupsFull==this.numGroups+1&&(this.check=function(){});var i=255&t,e=(65280&t)>>8,r=(16711680&t)>>16,i=i==e&&e==r?-1:m(g(i,e,r).h,this.numGroups),e=this.stats[i],r=this.minCols;e.num++,r<e.num||(e.num==r&&this.groupsFull++,e.num<=r&&this.stats[i].cols.push(t))},a.prototype.inject=function(i){for(var t=-1;t<this.numGroups;t++)if(this.stats[t].num<=this.minCols)switch(x(i)){case"Array":this.stats[t].cols.forEach(function(t){-1==i.indexOf(t)&&i.push(t)});break;case"Object":this.stats[t].cols.forEach(function(t){i[t]?i[t]++:i[t]=1})}},s=.2126,h=.7152,u=.0722,l=Math.sqrt(255*s*255+255*h*255+255*u*255),d=255*s+255*h+255*u,v=w()?Array.prototype.sort:b,t.prev=39,k=1,"undefined"==typeof OffscreenCanvas)throw new Error("Impossible to create OffscreenCanvas in this web environment.");t.next=43;break;case 43:return t.next=45,fetch(i);case 45:return D=t.sent,t.next=48,D.blob();case 48:return A=t.sent,t.next=51,createImageBitmap(A,{premultiplyAlpha:"premultiply",colorSpaceConversion:"default",resizeQuality:"high"});case 51:for(I=t.sent;r<I.width*k*I.height*k;)k-=.01;return D=new OffscreenCanvas(Math.floor(I.width*k),Math.floor(I.height*k)),(A=D.getContext("2d")).imageSmoothingEnabled=!1,A.globalCompositeOperation="source-over",A.drawImage(I,0,0,D.width,D.height),M=A.getImageData(0,0,D.width,D.height),t.abrupt("return",F(E(M,e),n));case 62:t.prev=62,t.t0=t.catch(39),k=1;try{fetch(i).then(function(t){return t.blob()}).then(function(t){return createImageBitmap(image_data,{premultiplyAlpha:"premultiply",colorSpaceConversion:"default",resizeQuality:"high"}).then(function(t){for(;r<O.width*k*O.height*k;)k-=.01;var i=document.createElement("canvas");i.width=Math.floor(O.width*k),i.height=Math.floor(O.height*k);i=i.getContext("2d");return i.imageSmoothingEnabled=!1,i.globalCompositeOperation="source-over",i.drawImage(t,0,0,Math.floor(O.width*k),Math.floor(O.height*k)),M=i.getImageData(0,0,Math.floor(O.width*k),Math.floor(O.height*k)),F(E(M,e),n)})})}catch(t){(O=new Image).onload=function(){for(;r<O.width*k*O.height*k;)k-=.01;var t=document.createElement("canvas");t.width=Math.floor(O.width*k),t.height=Math.floor(O.height*k);t=t.getContext("2d");return t.imageSmoothingEnabled=!1,t.globalCompositeOperation="source-over",t.drawImage(O,0,0,Math.floor(O.width*k),Math.floor(O.height*k)),M=t.getImageData(0,0,Math.floor(O.width*k),Math.floor(O.height*k)),F(E(M,e),n)}(),O.src=i}case 66:case"end":return t.stop()}},t,this,[[39,62]])})),function(t,i,e,r){return n.apply(this,arguments)});t.exports={rgb_quant:function(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2073600,o=3<arguments.length&&void 0!==arguments[3]&&arguments[3],a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:function(){},s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null;h(regeneratorRuntime.mark(function t(){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==s)return i=s.exec(u,[e,r,n,o]).catch(function(t){return u(e,r,n,o)}).timeout(6e4),t.t0=a,t.next=5,i;t.next=9;break;case 5:t.t1=t.sent,(0,t.t0)(t.t1),t.next=15;break;case 9:return i=u(e,r,n,o),t.t2=a,t.next=13,i;case 13:t.t3=t.sent,(0,t.t2)(t.t3);case 15:case"end":return t.stop()}},t,void 0)}))()}}}}]);