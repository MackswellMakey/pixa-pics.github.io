(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{978:function(t,i,e){"use strict";function o(t){return function(){var s=t.apply(this,arguments);return new Promise(function(a,h){return function i(t,e){try{var r=s[t](e),n=r.value}catch(t){return void h(t)}if(!r.done)return Promise.resolve(n).then(function(t){i("next",t)},function(t){i("throw",t)});a(n)}("next")})}}var u=new(Object.getPrototypeOf(o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,this)}))).constructor)('var t=async function(t,i,e,r){"use strict";function a(t){if(t=t||{},this.method=t.method||2,this.colors=t.colors||256,this.initColors=t.initColors||4096,this.initDist=t.initDist||.01,this.distIncr=t.distIncr||.005,this.hueGroups=t.hueGroups||10,this.satGroups=t.satGroups||10,this.lumGroups=t.lumGroups||10,this.minHueCols=t.minHueCols||0,this.hueStats=this.minHueCols?new h(this.hueGroups,this.minHueCols):null,this.boxSize=t.boxSize||[64,64],this.boxPxls=t.boxPxls||2,this.palLocked=!1,this.dithKern=t.dithKern||null,this.dithSerp=t.dithSerp||!1,this.dithDelta=t.dithDelta||0,this.histogram={},this.idxrgb=t.palette?t.palette.slice(0):[],this.idxi32=[],this.i32idx={},this.i32rgb={},this.useCache=!1!==t.useCache,this.cacheFreq=t.cacheFreq||10,this.reIndex=t.reIndex||0==this.idxrgb.length,this.colorDist="manhattan"==t.colorDist?d:c,this.idxrgb.length>0){var i=this;this.idxrgb.forEach((function(t,e){var r=(255<<24|t[2]<<16|t[1]<<8|t[0])>>>0;i.idxi32[e]=r,i.i32idx[r]=e,i.i32rgb[r]=t}))}}function h(t,i){this.numGroups=t,this.minCols=i,this.stats={};for(var e=-1;e<t;e++)this.stats[e]={num:0,cols:[]};this.groupsFull=0}i=i||0,a.prototype.sample=function(t,i){if(this.palLocked)throw"Cannot sample additional images, palette already assembled.";var e=x(t,i);switch(this.method){case 1:this.colorStats1D(e.buf32);break;case 2:this.colorStats2D(e.buf32,e.width)}},a.prototype.reduce=function(t,i,e,r){if(this.palLocked||this.buildPal(),e=e||this.dithKern,r=void 0!==r?r:this.dithSerp,i=i||1,e)var a=this.dither(t,e,r);else for(var h=x(t).buf32,n=h.length,s=(a=new Uint32Array(n),0);s<n;s++){var o=h[s];a[s]=this.nearestColor(o)}if(1==i)return new Uint8Array(a.buffer);if(2==i){var l=[];for(n=a.length,s=0;s<n;s++){o=a[s];l[s]=this.i32idx[o]}return l}},a.prototype.dither=function(t,i,e){var r={FloydSteinberg:[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]],FalseFloydSteinberg:[[3/8,1,0],[3/8,0,1],[2/8,1,1]],Stucki:[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]],Atkinson:[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]],Jarvis:[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]],Burkes:[[.25,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[.25,0,1],[4/32,1,1],[2/32,2,1]],Sierra:[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]],TwoSierra:[[.25,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]],SierraLite:[[.5,1,0],[1/4,-1,1],[1/4,0,1]]};if(!i||!r[i])throw"Unknown dithering kernel: "+i;for(var a=r[i],h=x(t),n=h.buf32,s=h.width,o=h.height,l=(n.length,e?-1:1),u=0;u<o;u++){e&&(l*=-1);for(var c=u*s,d=1==l?0:s-1,f=1==l?s:0;d!==f;d+=l){var g=c+d,p=n[g],m=255&p,v=(65280&p)>>8,b=(16711680&p)>>16,w=this.nearestColor(p),y=255&w,C=(65280&w)>>8,S=(16711680&w)>>16;if(n[g]=255<<24|S<<16|C<<8|y,this.dithDelta)if(this.colorDist([m,v,b],[y,C,S])<this.dithDelta)continue;for(var M=m-y,I=v-C,D=b-S,k=1==l?0:a.length-1,A=1==l?a.length:0;k!==A;k+=l){var O=a[k][1]*l,P=a[k][2],E=P*s;if(O+d>=0&&O+d<s&&P+u>=0&&P+u<o){var F=a[k][0],U=g+(E+O),G=255&n[U],j=(65280&n[U])>>8,q=(16711680&n[U])>>16,z=Math.max(0,Math.min(255,G+M*F)),L=Math.max(0,Math.min(255,j+I*F)),H=Math.max(0,Math.min(255,q+D*F));n[U]=255<<24|H<<16|L<<8|z}}}}return n},a.prototype.buildPal=function(t){if(!(this.palLocked||this.idxrgb.length>0&&this.idxrgb.length<=this.colors)){var i=this.histogram,e=function(t,i){var e=[];for(var r in t)e.push(r);return v.call(e,(function(e,r){return i?t[r]-t[e]:t[e]-t[r]}))}(i,!0);if(0==e.length)throw"Nothing has been sampled, palette cannot be built.";switch(this.method){case 1:for(var r=this.initColors,a=i[e[r-1]],h=e.slice(0,r),n=r,s=e.length;n<s&&i[e[n]]==a;)h.push(e[n++]);this.hueStats&&this.hueStats.inject(h);break;case 2:h=e}h=h.map((function(t){return+t})),this.reducePal(h),!t&&this.reIndex&&this.sortPal(),this.useCache&&this.cacheHistogram(h),this.palLocked=!0}},a.prototype.palette=function(t,i){return this.buildPal(i),t?this.idxrgb:new Uint8Array(new Uint32Array(this.idxi32).buffer)},a.prototype.prunePal=function(t){for(var i,e=0;e<this.idxrgb.length;e++)t[e]||(i=this.idxi32[e],this.idxrgb[e]=null,this.idxi32[e]=null,delete this.i32idx[i]);if(this.reIndex){for(var r=[],a=[],h={},n=(e=0,0);e<this.idxrgb.length;e++)this.idxrgb[e]&&(i=this.idxi32[e],r[n]=this.idxrgb[e],h[i]=n,a[n]=i,n++);this.idxrgb=r,this.idxi32=a,this.i32idx=h}},a.prototype.reducePal=function(t){if(this.idxrgb.length>this.colors){for(var i,e=t.length,r={},a=0,h=!1,n=0;n<e;n++)a!=this.colors||h||(this.prunePal(r),h=!0),i=this.nearestIndex(t[n]),a<this.colors&&!r[i]&&(r[i]=!0,a++);h||(this.prunePal(r),h=!0)}else{var s=t.map((function(t){return[255&t,(65280&t)>>8,(16711680&t)>>16]})),o=e=s.length,l=this.initDist;if(o>this.colors){for(;o>this.colors;){var u=[];for(n=0;n<e;n++){var c=s[n];t[n];if(c)for(var d=n+1;d<e;d++){var f=s[d],g=t[d];if(f){var p=this.colorDist(c,f);p<l&&(u.push([d,f,g,p]),delete s[d],o--)}}}l+=o>3*this.colors?this.initDist:this.distIncr}if(o<this.colors){v.call(u,(function(t,i){return i[3]-t[3]}));for(var m=0;o<this.colors;)s[u[m][0]]=u[m][1],o++,m++}}for(e=s.length,n=0;n<e;n++)s[n]&&(this.idxrgb.push(s[n]),this.idxi32.push(t[n]),this.i32idx[t[n]]=this.idxi32.length-1,this.i32rgb[t[n]]=s[n])}},a.prototype.colorStats1D=function(t){for(var i,e=this.histogram,r=t.length,a=0;a<r;a++)(4278190080&(i=t[a]))>>24!=0&&(this.hueStats&&this.hueStats.check(i),i in e?e[i]++:e[i]=1)},a.prototype.colorStats2D=function(t,i){var e=this.boxSize[0],r=this.boxSize[1],a=e*r,h=function(t,i,e,r){for(var a=t%e,h=i%r,n=t-a,s=i-h,o=[],l=0;l<i;l+=r)for(var u=0;u<t;u+=e)o.push({x:u,y:l,w:u==n?a:e,h:l==s?h:r});return o}(i,t.length/i,e,r),n=this.histogram,s=this;h.forEach((function(e){var r,h=Math.max(Math.round(e.w*e.h/a)*s.boxPxls,2),o={};!function(t,i,e){var r=t,a=r.y*i+r.x,h=(r.y+r.h-1)*i+(r.x+r.w-1),n=0,s=i-r.w+1,o=a;do{e.call(this,o),o+=++n%r.w==0?s:1}while(o<=h)}(e,i,(function(i){(4278190080&(r=t[i]))>>24!=0&&(s.hueStats&&s.hueStats.check(r),r in n?n[r]++:r in o?++o[r]>=h&&(n[r]=o[r]):o[r]=1)}))})),this.hueStats&&this.hueStats.inject(n)},a.prototype.sortPal=function(){var t=this;this.idxi32.sort((function(i,e){var r=t.i32idx[i],a=t.i32idx[e],h=t.idxrgb[r],n=t.idxrgb[a],s=f(h[0],h[1],h[2]),o=f(n[0],n[1],n[2]),l=h[0]==h[1]&&h[1]==h[2]?-1:g(s.h,t.hueGroups),u=(n[0]==n[1]&&n[1]==n[2]?-1:g(o.h,t.hueGroups))-l;if(u)return-u;var c=+o.l.toFixed(2)-+s.l.toFixed(2);if(c)return-c;var d=+o.s.toFixed(2)-+s.s.toFixed(2);return d?-d:void 0})),this.idxi32.forEach((function(i,e){t.idxrgb[e]=t.i32rgb[i],t.i32idx[i]=e}))},a.prototype.nearestColor=function(t){var i=this.nearestIndex(t);return null===i?0:this.idxi32[i]},a.prototype.nearestIndex=function(t){if((4278190080&t)>>24==0)return null;if(this.useCache&&""+t in this.i32idx)return this.i32idx[t];for(var i,e=1e3,r=[255&t,(65280&t)>>8,(16711680&t)>>16],a=this.idxrgb.length,h=0;h<a;h++)if(this.idxrgb[h]){var n=this.colorDist(r,this.idxrgb[h]);n<e&&(e=n,i=h)}return i},a.prototype.cacheHistogram=function(t){for(var i=0,e=t[i];i<t.length&&this.histogram[e]>=this.cacheFreq;e=t[i++])this.i32idx[e]=this.nearestIndex(e)},h.prototype.check=function(t){this.groupsFull==this.numGroups+1&&(this.check=function(){});var i=255&t,e=(65280&t)>>8,r=(16711680&t)>>16,a=i==e&&e==r?-1:g(f(i,e,r).h,this.numGroups),h=this.stats[a],n=this.minCols;h.num++,h.num>n||(h.num==n&&this.groupsFull++,h.num<=n&&this.stats[a].cols.push(t))},h.prototype.inject=function(t){for(var i=-1;i<this.numGroups;i++)if(this.stats[i].num<=this.minCols)switch(p(t)){case"Array":this.stats[i].cols.forEach((function(i){-1==t.indexOf(i)&&t.push(i)}));break;case"Object":this.stats[i].cols.forEach((function(i){t[i]?t[i]++:t[i]=1}))}};var n=.2126,s=.7152,o=.0722;function l(t,i,e){return Math.sqrt(n*t*t+s*i*i+o*e*e)}var u=Math.sqrt(65025);function c(t,i){var e=i[0]-t[0],r=i[1]-t[1],a=i[2]-t[2];return Math.sqrt(n*e*e+s*r*r+o*a*a)/u}function d(t,i){var e=Math.abs(i[0]-t[0]),r=Math.abs(i[1]-t[1]),a=Math.abs(i[2]-t[2]);return(n*e+s*r+o*a)/254.99999999999997}function f(t,i,e){var r,a,h,n,s;if(t/=255,i/=255,e/=255,(r=Math.max(t,i,e))==(a=Math.min(t,i,e)))h=n=0;else{switch(s=r-a,n=(r+a)/2>.5?s/(2-r-a):s/(r+a),r){case t:h=(i-e)/s+(i<e?6:0);break;case i:h=(e-t)/s+2;break;case e:h=(t-i)/s+4}h/=6}return{h:h,s:n,l:l(t,i,e)}}function g(t,i){var e=1/i,r=e/2;if(t>=1-r||t<=r)return 0;for(var a=1;a<i;a++){var h=a*e;if(t>=h-r&&t<=h+r)return a}}function p(t){return Object.prototype.toString.call(t).slice(8,-1)}var m,v="xyzvwtursopqmnklhijfgdeabc"==(m="abcdefghijklmnopqrstuvwxyz").split("").sort((function(t,i){return~~(m.indexOf(i)/2.3)-~~(m.indexOf(t)/2.3)})).join("")?Array.prototype.sort:function(t){var i=p(this[0]);if("Number"==i||"String"==i){for(var e,r={},a=this.length,h=0;h<a;h++)e=this[h],r[e]||0===r[e]||(r[e]=h);return this.sort((function(i,e){return t(i,e)||r[i]-r[e]}))}r=this.map((function(t){return t}));return this.sort((function(i,e){return t(i,e)||r.indexOf(i)-r.indexOf(e)}))};function x(t,i){var e,r,a,h;switch(p(t)){case"ImageData":h=(e=e||t).height,r="CanvasPixelArray"==p(e.data)?new Uint8Array(e.data):e.data;case"Array":case"CanvasPixelArray":r=r||new Uint8Array(t);case"Uint8Array":case"Uint8ClampedArray":r=r||t,a=new Uint32Array(r.buffer);case"Uint32Array":a=a||t,r=r||new Uint8Array(a.buffer),i=i||a.length,h=a.length/i}return{can:undefined,ctx:undefined,imgd:e,buf8:r,buf32:a,width:i,height:h}}try{var b=1;if("undefined"==typeof OffscreenCanvas)throw new Error("Impossible to create OffscreenCanvas in this web environment.");for(var w=await fetch(t),y=await w.blob(),C=await createImageBitmap(y,{premultiplyAlpha:"premultiply",colorSpaceConversion:"default",resizeQuality:"high"});C.width*b*C.height*b>e;)b-=.01;var S=new OffscreenCanvas(Math.floor(C.width*b),Math.floor(C.height*b)),M=S.getContext("2d");return M.imageSmoothingEnabled=!1,M.globalCompositeOperation="source-over",M.drawImage(C,0,0,S.width,S.height),k(D(M.getImageData(0,0,S.width,S.height),i),r)}catch(a){b=1;try{fetch(t).then((t=>t.blob())).then((t=>createImageBitmap(image_data,{premultiplyAlpha:"premultiply",colorSpaceConversion:"default",resizeQuality:"high"}).then((t=>{for(;I.width*b*I.height*b>e;)b-=.01;var a=document.createElement("canvas");a.width=Math.floor(I.width*b),a.height=Math.floor(I.height*b);var h=a.getContext("2d");return h.imageSmoothingEnabled=!1,h.globalCompositeOperation="source-over",h.drawImage(t,0,0,Math.floor(I.width*b),Math.floor(I.height*b)),k(D(h.getImageData(0,0,Math.floor(I.width*b),Math.floor(I.height*b)),i),r)}))))}catch(a){var I=new Image;I.onload=(()=>{for(;I.width*b*I.height*b>e;)b-=.01;var t=document.createElement("canvas");t.width=Math.floor(I.width*b),t.height=Math.floor(I.height*b);var a=t.getContext("2d");return a.imageSmoothingEnabled=!1,a.globalCompositeOperation="source-over",a.drawImage(I,0,0,Math.floor(I.width*b),Math.floor(I.height*b)),k(D(a.getImageData(0,0,Math.floor(I.width*b),Math.floor(I.height*b)),i),r)})(),I.src=t}}function D(t,i=0){if(i>=1&&i<99999999){r=!1;var e=new a({colors:i,method:2,minHueCols:0,dithKern:null,dithSerp:!1});e.sample(t);e.palette(!0);var h=e.reduce(t);t.data.set(h)}return t}function k(t,i){try{if("undefined"==typeof OffscreenCanvas)throw new Error("Impossible to create OffscreenCanvas in this web environment.");var e=new OffscreenCanvas(t.width,t.height);return(r=e.getContext("bitmaprenderer")).imageSmoothingEnabled=!1,createImageBitmap(t,{premultiplyAlpha:"premultiply",colorSpaceConversion:"default",resizeQuality:"high"}).then((t=>{r.transferFromImageBitmap(t);var a=i?{type:"image/jpeg",quality:.75}:{type:"image/png"};return e.convertToBlob(a).then((t=>{return(i=t,new Promise(((t,e)=>{var r=new FileReader;r.onload=()=>t(r.result),r.readAsDataURL(i)}))).then((t=>t));var i}))}))}catch(a){var r;return(e=document.createElement("canvas")).width=t.width,e.height=t.height,(r=e.getContext("2d")).imageSmoothingEnabled=!1,r.globalCompositeOperation="source-over",r.putImageData(t,0,0),i?e.toDataURL("image/jpeg",.75):e.toDataURL("image/png")}}};return t;')();t.exports={rgb_quant:function(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2073600,a=3<arguments.length&&void 0!==arguments[3]&&arguments[3],h=4<arguments.length&&void 0!==arguments[4]?arguments[4]:function(){},s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null;o(regeneratorRuntime.mark(function t(){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==s)return i=s.exec(u,[e,r,n,a]).catch(function(t){return u(e,r,n,a)}).timeout(6e4),t.t0=h,t.next=5,i;t.next=9;break;case 5:t.t1=t.sent,(0,t.t0)(t.t1),t.next=15;break;case 9:return i=u(e,r,n,a),t.t2=h,t.next=13,i;case 13:t.t3=t.sent,(0,t.t2)(t.t3);case 15:case"end":return t.stop()}},t,void 0)}))()}}}}]);