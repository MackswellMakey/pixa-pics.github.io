(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{427:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a,n=arguments[t];for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=i(a(0)),_=a(26),d=a(79),f=a(813),g=a(52),p=i(a(143)),l=i(a(145)),m=i(a(65)),r=i(a(801));function i(e){return e&&e.__esModule?e:{default:e}}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(o,u.default.Component),n(o.prototype,[{key:"componentDidMount",value:function(){this._update_settings(),m.default.trigger_loading_update(0),setTimeout(function(){m.default.trigger_loading_update(100)},250)}},{key:"_update_settings",value:function(){l.default.get_settings(this._process_settings_query_result)}},{key:"render",value:function(){for(var e=this.state,t=e._locales,a=(e._language,e._fees,e._sfx_enabled),n=e._jamy_enabled,l=(e._selected_currency,e._currency_countries),r=e._selected_locales_code,e=(e._panic_mode,e.classes),i=t[0],o=0;o<t.length;o++)t[o].code==r&&(i=t[o]);var s=[];return Object.entries(l).forEach(function(e){var t=function(e){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e){var t=[],a=!0,n=!1,l=void 0;try{for(var r,i=e[Symbol.iterator]();!(a=(r=i.next()).done)&&(t.push(r.value),2!==t.length);a=!0);}catch(e){n=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(n)throw l}}return t}(e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(e),e=t[0];t[1],s.push(e)}),u.default.createElement("div",null,u.default.createElement(_.Container,{maxWidth:"sm",className:e.container},u.default.createElement(_.Fade,{in:!0,timeout:300},u.default.createElement(_.Card,null,u.default.createElement(_.CardHeader,{title:(0,d.t)("pages.settings.language")}),u.default.createElement(_.CardContent,null,u.default.createElement(f.Autocomplete,{fullWidth:!0,value:i,filterOptions:this._fuzzy_filter_locales,onChange:this._handle_locales_changed,id:"locales-autocomplete",options:t,getOptionLabel:function(e){return e.name||e.original.name},renderOption:function(e){return u.default.createElement("div",null,u.default.createElement("img",{src:(0,p.default)(e.original.svg,!g.LANGUAGES.includes(e.original.code.split("-")[0])),style:{marginRight:8,verticalAlign:"middle",height:24}}),u.default.createElement("span",{style:{color:g.LANGUAGES.includes(e.original.code.split("-")[0])?"#1c1882":"inherit"},dangerouslySetInnerHTML:{__html:e.string}}))},renderInput:function(e){return u.default.createElement(_.TextField,c({},e,{label:(0,d.t)("words.locales",{FLC:!0}),margin:"normal"}))}})))),u.default.createElement(_.Fade,{in:!0,timeout:900},u.default.createElement(_.Card,{className:e.marginTop},u.default.createElement(_.CardHeader,{title:(0,d.t)("pages.settings.sound")}),u.default.createElement(_.CardContent,null,u.default.createElement(_.FormControlLabel,{value:(0,d.t)("pages.settings.enable_sound_effects"),control:u.default.createElement(_.Switch,{checked:a,onChange:this._handle_sfx_enabled_switch_change,color:"primary"}),label:(0,d.t)("pages.settings.enable_sound_effects"),labelPlacement:"end"})))),u.default.createElement(_.Fade,{in:!0,timeout:1200},u.default.createElement(_.Card,{className:e.marginTop},u.default.createElement(_.CardHeader,{title:(0,d.t)("pages.settings.superintendent")}),u.default.createElement(_.CardContent,null,u.default.createElement(_.FormControlLabel,{value:(0,d.t)("pages.settings.enable_the_superintendent"),control:u.default.createElement(_.Switch,{checked:n,onChange:this._handle_jamy_enabled_switch_change,color:"primary"}),label:(0,d.t)("pages.settings.make_jamy_active"),labelPlacement:"end"}),u.default.createElement("p",null,(0,d.t)("pages.settings.description_of_jamy")))))))}}]),a=o;function o(e){!function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return s._process_settings_query_result=function(e,t){var a=void 0!==t.fees?t.fees:1,n=void 0===t.sfx_enabled||t.sfx_enabled,l=void 0===t.jamy_enabled||t.jamy_enabled,r=void 0!==t.locales?t.locales:"en-US",i=r.split("-")[0],o=void 0!==t.currency?t.currency:"USD",t=void 0!==t.panic&&t.panic;m.default.trigger_loading_update(0),m.default.trigger_loading_update(100),s.setState({_fees:a,_sfx_enabled:n,_jamy_enabled:l,_selected_locales_code:r,_language:i,_selected_currency:o,_panic_mode:t})},s._on_settings_changed=function(){s.state._language,m.default.trigger_loading_update(0),setTimeout(function(){m.default.trigger_loading_update(100)},250),m.default.trigger_settings_update(),m.default.trigger_snackbar((0,d.t)("pages.settings.settings_changed"))},s._handle_locales_changed=function(e,t){var a;t&&(a={locales:t.original.code},s.setState({_selected_locales_code:t.original.code,_language:t.original.code.split("-")[0]}),l.default.set_settings(a,s._on_settings_changed),m.default.trigger_sfx("ui_lock"),m.default.jamy_update("happy"))},s._handle_currency_changed=function(e,t){var a;t.original&&(a={currency:t.original.toUpperCase()},s.setState({_selected_currency:t.original.toUpperCase()}),l.default.set_settings(a,s._on_settings_changed),m.default.trigger_sfx("ui_lock"),m.default.jamy_update("happy"))},s._handle_panic_switch_change=function(e){var t=Boolean(s.state._panic_mode);t?(m.default.trigger_sfx("ui_lock"),m.default.jamy_update("shocked")):(m.default.trigger_sfx("ui_unlock"),m.default.jamy_update("suspicious"));var a={panic:!t};s.setState({_panic_mode:!t}),l.default.set_settings(a,s._on_settings_changed)},s._handle_sfx_enabled_switch_change=function(e){var t=Boolean(s.state._sfx_enabled);t?m.default.trigger_sfx("ui_lock"):m.default.trigger_sfx("ui_unlock"),m.default.jamy_update("happy");var a={sfx_enabled:!t};s.setState({_sfx_enabled:!t}),l.default.set_settings(a,s._on_settings_changed)},s._handle_jamy_enabled_switch_change=function(e){var t=Boolean(s.state._jamy_enabled);t?(m.default.trigger_sfx("ui_lock"),m.default.jamy_update("sad")):(m.default.trigger_sfx("ui_unlock"),m.default.jamy_update("happy"));var a={jamy_enabled:!t};s.setState({_jamy_enabled:!t}),l.default.set_settings(a,s._on_settings_changed)},s._handle_input_fees_change=function(e,t){s.setState({_fees:t})},s._handle_fees_change_committing=function(e){m.default.trigger_sfx("ui_lock")},s._handle_fees_change_committed=function(e,t){m.default.trigger_sfx("ui_unlock"),m.default.jamy_update("happy");var a={fees:t};s.setState({_fees:t}),l.default.set_settings(a,s._on_settings_changed)},s._fuzzy_filter_locales=function(e,t){return r.default.filter(t.inputValue,e,{pre:'<b style="color: #000244;">',post:"</b>",extract:function(e){return e.name}})},s._fuzzy_filter_currency=function(e,t){return r.default.filter(t.inputValue,e,{pre:'<b style="color: #000244;">',post:"</b>",extract:function(e){return e}})},s.state={classes:e.classes,_locales:g.LOCALES,_currency_countries:g.CURRENCY_COUNTRIES,_selected_locales_code:null,_language:document.documentElement.lang,_selected_currency:null,_fees:1,_sfx_enabled:!0,_jamy_enabled:!0,_panic_mode:!1},s}t.default=(0,_.withStyles)(function(e){return{container:(t={padding:e.spacing(2)},a=e.breakpoints.down("sm"),n={padding:e.spacing(2,0)},a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t),marginTop:{marginTop:e.spacing(2)}};var t,a,n})(a)}}]);